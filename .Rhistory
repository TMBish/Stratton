for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", size = 15),
color = "black")
}
base
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", width = 15),
color = "black")
}
base
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 8),
color = "black")
}
base
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = "black")
}
base
library(viridisLite)
viridisLite::viridis(5)
viridisLite::viridis()1
viridisLite::viridis(10)1
viridisLite::viridis()[1]
base = hchart(add_clus, "scatter", hcaes_string(x = axes[2], y = axes[1], color = 'cluster'))
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = viridis(n=10)[i])
}
base
viridis(n=10)[1]
base = hchart(add_clus, "scatter", hcaes_string(x = axes[2], y = axes[1], color = 'cluster'))
base
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = viridis(n=10)[i])
}
base
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = "red")
}
base
help("colorize")
colorize(LETTERS[rbinom(20, 5, 0.5)], c("#FF0000", "#00FFFF"))
colorize(runif(10))
colorize(1)
colorize(2)
colorize(3)
colorize(c(1,2))
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = colorize(nrow(centroids))[i])
}
base
base = hchart(add_clus, "scatter", hcaes_string(x = axes[2], y = axes[1], color = 'cluster'))
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = colorize(nrow(centroids))[i])
}
bae
base
base = hchart(add_clus, "scatter", hcaes_string(x = axes[2], y = axes[1], color = 'cluster'))
for (i in 1:nrow(centroids)) {
base = base %>%
hc_add_series(name = "cluster Center",
data = list_parse2(rev(centroids[i,])),
type = "scatter",
marker = list(symbol = "cross", radius = 10),
color = colorize(1:nrow(centroids))[i])
}
base
centroids
runApp('App')
df
cluster_df(df)
df
cluster_df(df)
train_matrix = df[,dimensions]
train_matrix = lapply(train_matrix, scale)
mu = c(attr(train_matrix[[dimensions[1]]],"scaled:center"), attr(train_matrix[[dimensions[2]]],"scaled:center"))
sd = c(attr(train_matrix[[dimensions[1]]],"scaled:scale"), attr(train_matrix[[dimensions[2]]],"scaled:scale"))
kmean_model = kmeans(as.data.frame(train_matrix), clusters)
output = list()
output$data = df %>%
mutate(cluster = factor(kmean_model$cluster))
output$data
df %>%
mutate(cluster = factor(kmean_model$cluster)) %>%
select(title, cluster)
df %>%
mutate(cluster = factor(kmean_model$cluster))
rm(list=ls())
shiny::runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
library(DT)
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
help(datatable)
runApp('App')
runApp('App')
runApp('App')
source('C:/Users/Tom Bishop/Dropbox/Projects/Stratton/App/utils/chart_cluster_h.R')
runApp('App')
get_tomatoes("Daniel Day-Lewis")
get_tomatoes("Daniel ")
runApp('App')
person = "Daniel Day-Lewis"
str_replace_all(tolower(person), " ", "_")
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
help(tags$img)
help(tags$img())
help(img)
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
runApp('App')
film = "Cast Away"
film = "castaway"
film = "Cast Away"
session = html_session("https://www.imdb.com")
form = html_form(session)
form
form = set_values(form, q = film)
help(set_values)
form = html_form(session)[[1]]
form
form = set_values(form, q = film)
form
url = submit_form(session, form)
url
follow_link(url)
follow_link(url, ".result_text , a")
help("follow_link")
follow_link(session, url, ".result_text , a")
follow_link(session, url, ".result_text")
follow_link(session, url, "result_text")
follow_link(session, url, i = 1)
follow_link(session, url, i = "title/tt")
follow_link(session, url, i = "/title/tt")
url
follow_link(session, url, i = "/title/tt0162222/?ref_=fn_al_tt_1")
test = html(url) %>% html_nodes("a")
test = read_html(url) %>% html_nodes("a")
test
test = read_html(url) %>% html_nodes(".result_text , a")
test
test = read_html(url) %>% html_nodes(".result_text , .result_text a")
test
test[1]
test[1][1]
test[1] %>% html_text()
runApp('App')
search_results =
html_session("https://www.imdb.com") %>%
html_form()[[1]] %>%
set_values(q = film) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results =
html_session("https://www.imdb.com") %>%
html_form()
search_form =
html_session("https://www.imdb.com") %>%
html_form()
search_results =
search_form[[1]] %>%
set_values(q = film) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_form
search_form[[1]]
film
search_results =
search_form[[1]] %>%
set_values(q = film)
search_results
search_results =
search_form[[1]] %>%
set_values(q = film) %>%
submit_form() %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_form =
html_session("https://www.imdb.com") %>%
html_form()
search_results =
search_form[[1]] %>%
set_values(q = film) %>%
submit_form() %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results =
search_form[[1]] %>%
set_values(q = film) %>%
submit_form()
search_form[[1]] %>%
set_values(q = film)
session = html_session("https://www.imdb.com") %>%
form = html_form(session)[[1]]
search_results =
form %>%
set_values(q = film) %>%
submit_form(session) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
session = html_session("https://www.imdb.com")
form = html_form(session)[[1]]
search_results =
form %>%
set_values(q = film) %>%
submit_form(session) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
session = html_session("https://www.imdb.com")
form = html_form(session)[[1]]
search_results =
form %>%
set_values(q = film) %>%
submit_form(session, .) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results
form %>%
set_values(q = film) %>%
submit_form(session, .) %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_text()
search_results =
form %>%
set_values(q = film) %>%
submit_form(session, .) %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results %>% html_attr('href')
search_results
search_results =
form %>%
set_values(q = film) %>%
submit_form(session, .) %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_attr("href") %>%
!is.na()
search_results =
form %>%
set_values(q = film) %>%
submit_form(session, .) %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_attr("href")
search_results
help("grep")
escape("/title/tt")
filtered_results = grep("^\\/title\\/tt.+")
filtered_results = grep("^\\/title\\/tt.+", search_results)
filtered_results
potential_films = search_results[grep("^\\/title\\/tt.+", search_results)]
potential_films
imdb_suffix = potential_films[1]
url = sprintf("http://www.imdb.com%s", imdb_suffix)
url
potential_films = search_results[grep("^\\/title\\/tt.+", search_results)]
potentail_films = str_extract(potential_films, "^\\/title\\/tt(0-9)+")
potntial_films
potential_films
potentail_films = str_extract(potential_films[1], "^\\/title\\/tt(0-9)+")
potentail_films
potential_films = str_extract(potential_films, "^\\/title\\/tt[0-9]+")
potentail_films
potential_films
url = sprintf("http://www.imdb.com%s", imdb_suffix)
cast_links = url %>%
html() %>%
html_nodes("#titleCast .itemprop")
cast_links = url %>%
read_html() %>%
html_nodes("#titleCast .itemprop")
cast_links
cast_links = url %>%
read_html() %>%
html_nodes("#titleCast .itemprop") %>%
html_text()
cast_links
actor
actor = "Tom Hanks"
actor_count = grepl(actor, cast_links)
actor_count
lapply(potential_films, test_page(actor))
test_page = function(imdb_suffix, actor) {
url = sprintf("http://www.imdb.com%s", imdb_suffix)
cast_links = url %>%
read_html() %>%
html_nodes("#titleCast .itemprop") %>%
html_text()
actor_count = sum(grepl(actor, cast_links))
return(actor_count)
}
lapply(potential_films, test_page(actor))
lapply(potential_films, test_page(actor))
lapply(potential_films, function(x) { return(test_page(x, actor))})
film = str_replace_all(film," ", "+")
flim
film
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_attr("href")
search_url = sprintf("http://www.imdb.com/Title?%s/", film)
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_attr("href")
potential_films = search_results[grep("^\\/title\\/tt.+", search_results)]
potential_films
potential_films =
search_results[grep("^\\/title\\/tt.+", search_results)] %>%
str_extract("^\\/title\\/tt[0-9]+")
potential_films
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results %>% html_text()
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a") %>%
html_attr("href")
search_results
get_tomatoes()
test = get_tomatoes("Tom Hanks")
test
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results
search_results[1]
search_results[1] %>% html_text()
search_url = sprintf(  "http://www.imdb.com/find?q=%s&s=exaxt_match=True&tt=on", film)
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
search_results
search_results[1] %>% html_text()
links = search_results %>% html_attr("href")
description = search_results %>% html_text()
links
description
plausible = grep("^\\/title\\/tt.+", links)
plausible
year = "2000"
matching_year = grep(year, description[plausible])
matching_year
description[plausible]
description
search_results[1]
search_results[1] %>% attr("href")
search_results[2]
search_results[1] %>% attr("a")
search_results[2][[1]]
search_results[1][[1]]
search_results[1][[2]]
search_results[1][[1]]
search_results[1]
search_results[[1]]
search_results[[1]] %>% html_attr('href')
search_results[[1]] %>% html_attr('a')
search_results
library(XML)
xml_attr()
help("xml_attr")
xml_attr(search_results[1])
links = search_results %>% html_attrs("href")
links = search_results %>% html_attr("href")
links
search_results =
search_url %>%
read_html() %>%
html_node(".result_text, .result_text a")
search_results
library(xml2)
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text, .result_text a")
xml2::read_xml(search_results[1])
xml2::read_xml(search_results[[1]])
search_results
search_results[1] %>% html_attr("td")
search_results[1] %>% html_attr("table")
search_results[1] %>% html_attr("class")
search_results[1] %>% html_attr("href")
search_results[1] %>% html_attr("a href")
search_results[1]
search_results[[1]]
search_results[[1]][1] %>% html_attr("href")
search_results[[1]] %>% html_attr("href")
search_results[[1]]$node
search_results[[1]]$doc
search_results
search_results %>% html_text()
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text a")
search_results
search_results =
search_url %>%
read_html() %>%
html_nodes(".result_text")
search_results
search_results %>% html_attr("href")
search_results %>% html_attr("a")
search_results %>% html_text()
runApp('App')
